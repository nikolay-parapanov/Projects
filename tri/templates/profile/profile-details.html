{% extends 'base/base.html' %}
{% block page_content %}

    <!-- Your Profile Data -->
    <br>
    <br>
    {% if is_owner %}
        <h1>Your Profile</h1>
    {% else %}
        <h1>Profile</h1>
    {% endif %}
    <div class="expenses-container">
        <div class="expense-container">
            <!-- Full Name -->
            {#            <h2>{{ object.pk }}</h2>#}
            <!-- Profile Image -->
            <img src="/static/images/user.png" alt="profile pic">

            <h1>General info:</h1>
            <p>
                <label>e-mail: </label>
                <a1>{{ object.email }}</a1>
            </p>
            <p>
                <label>first name: </label>
                <a2>{{ object.first_name }}</a2>
            </p>
            <p>
                <label>last name: </label>
                <a2>{{ object.last_name }}</a2>
            </p>

            {% if is_owner %}
                <h1>Personal info:</h1>
                <p>
                    <labe>age:</labe>
                    <a2>{{ object.age }}</a2>
                </p>
            {% endif %}
            <div class="right">
                {% if is_owner %}
                    <a class="button edit" href="{% url 'profile update' pk=object.pk %}">Edit Profile</a>
                    <a class="button delete" href="{% url 'profile delete' pk=object.pk %}">Delete Profile</a>
                    {% csrf_token %}
                {% endif %}
            </div>


        </div>
    </div>

    {% if is_owner %}
        {% if user.is_superuser %}
        <h1>You can moderate this page as you're superuser or dedicated staff user:</h1>
            {% else %}
            <h1>You have listed the following items in the 'Marketplace' section:</h1>
        {% endif %}
            <div class="expenses-container">
            {% for item in items_listed_by_owner %}
                <div class="expense-container">
                    <img src="/static/images/user.png" alt="profile pic">
                    <p>
                        <label>name: </label>
                        <a1>{{ item.name }}</a1>
                    </p>
                    <p>
                        <label>description: </label>
                        <a2>{{ item.description }}</a2>
                    </p>
                    <p>
                        <label>type: </label>
                        <a2>{{ item.type }}</a2>
                    </p>
                    <p>
                        <labe>price (EUR):</labe>
                        <a2>{{ item.price|floatformat:2 }}</a2>
                    </p>
                    <div class="right">
                        <a class="button edit" href="{% url 'marketplace item edit' pk=item.pk %}">Edit Item</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h1>All items listed by this Profile:</h1>
        <div class="expenses-container">
            {% for item in items_listed_by_owner %}
                <div class="expense-container">
                    <img src="/static/images/user.png" alt="profile pic">
                    <p>
                        <label>name: </label>
                        <a1>{{ item.name }}</a1>
                    </p>
                    <p>
                        <label>description: </label>
                        <a2>{{ item.description }}</a2>
                    </p>
                    <p>
                        <label>type: </label>
                        <a2>{{ item.type }}</a2>
                    </p>
                    <p>
                        <labe>price (EUR):</labe>
                        <a2>{{ item.price|floatformat:2 }}</a2>
                    </p>
                    <div class="right">
                        <a class="button edit" href="{% url 'marketplace item details' pk=item.pk %}">Item
                            Details</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}

{% endblock %}